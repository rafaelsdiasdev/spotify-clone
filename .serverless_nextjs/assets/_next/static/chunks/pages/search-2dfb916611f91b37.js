(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[603],{2432:function(t,e,n){"use strict";n.d(e,{Z:function(){return I}});var i=n(266),r=n(809),a=n.n(r),s=n(7294),o=n(5675),c=n(933),l=n(4307),d=n(7379),u=d.ZP.section.withConfig({displayName:"styles__Container",componentId:"sc-1xgctqv-0"})(["font-family:Helvetica,arial,sans-serif;color:#fff;position:relative;background-color:#181818;padding:16px;border-radius:4px;transition:background-color 0.3s ease;max-width:192px;&:hover{background-color:#282828;}"]),p=d.ZP.div.withConfig({displayName:"styles__CardImage",componentId:"sc-1xgctqv-1"})(["box-shadow:0 8px 24px rgb(0 0 0 / 50%);border-radius:50%;margin-bottom:20px;width:160px;height:160px;img{border-radius:50%;width:100%;height:100%;}"]),f=d.ZP.div.withConfig({displayName:"styles__CardDetails",componentId:"sc-1xgctqv-2"})(["min-height:62px;p{font-size:16px;font-weight:700;letter-spacing:normal;line-height:24px;text-transform:none;display:grid;margin:0;}span{font-size:14px;font-weight:400;letter-spacing:normal;line-height:16px;text-transform:capitalize;}"]),m=d.ZP.div.withConfig({displayName:"styles__CardMask",componentId:"sc-1xgctqv-3"})(["position:absolute;z-index:0;bottom:0;content:'';cursor:pointer;left:0;overflow:hidden;right:0;text-indent:100%;top:0;white-space:nowrap;&:hover{.card-button{opacity:1;}}.card-button{&:hover{transform:scale(1.06);}}"]),x=d.ZP.div.withConfig({displayName:"styles__CardButton",componentId:"sc-1xgctqv-4"})(["position:absolute;right:32%;bottom:40%;opacity:0;z-index:2;transition:all 0.3s ease;@media (max-width:900px){opacity:1;}&:hover{transform:scale(1.06);}button{cursor:pointer;background-color:#1db954;color:#fff;border-radius:500px;height:40px;width:40px;border:none;}"]),h=n(3860),g=n.n(h),y=n(617),v=n.n(y),w=n(5893),b=function(t){var e=t.id,n=t.uri,r=t.idx,d=t.name,h=t.image,y=t.type,b=t.card,I=t.wrapper,j=(0,s.useContext)(c.S),Z=j.setTrack,k=j.play,_=j.setPlay,C=j.currentArtist,N=j.currentMusic,P=(0,s.useState)([]),T=P[0],M=P[1];(0,s.useEffect)((function(){b&&M(b)}),[]);var z=function(){var t=(0,i.Z)(a().mark((function t(e,n,i,r){var s,o,c;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(k&&_(!1),!e){t.next=8;break}return t.next=4,(0,l.Z)(e,n,i);case 4:s=t.sent,Z(s),t.next=13;break;case 8:return o=T.filter((function(t,e){return e>=r})).map((function(t){return t.uri})),t.next=11,(0,l.Z)(e,n,o);case 11:c=t.sent,Z(c);case 13:case"end":return t.stop()}}),t)})));return function(e,n,i,r){return t.apply(this,arguments)}}();return(0,w.jsxs)(u,{children:[(0,w.jsx)(p,{children:(0,w.jsx)(o.default,{src:h,alt:d,height:160,width:160})}),(0,w.jsxs)(f,{children:[(0,w.jsx)("p",{children:d}),(0,w.jsx)("span",{children:y})]}),(0,w.jsx)(m,{children:(0,w.jsx)(x,{className:"card-button",children:(0,w.jsx)("button",{"aria-label":"Play",onClick:function(){return z(e,I,n,r)},children:C===d||N===d?(0,w.jsx)(w.Fragment,{children:(0,w.jsx)(o.default,{src:v(),height:"24",width:"24",alt:"pause"})}):(0,w.jsx)(o.default,{src:g(),width:"24",height:"24",alt:"play"})})})})]})};b.defaultProps={name:"Title",image:"https://rsdias-storage.s3.amazonaws.com/fundozinza.jpg",type:"type",handlePlay:function(){return"tracks"}};var I=b},5617:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return F}});var i=n(266),r=n(809),a=n.n(r),s=n(7294),o=n(1163),c=n(933),l=n(1664),d=n(9101),u=n(2658),p=n(3968),f=n(2432),m=n(5675),x=n(9470),h=n.n(x),g=n(6166),y=n.n(g),v=n(4307),w=n(7379),b=w.ZP.section.withConfig({displayName:"styles__Container",componentId:"sc-4e9flo-0"})(["min-width:400px;font-family:Helvetica,arial,sans-serif;@media (max-width:900px){margin-bottom:180px;}"]),I=w.ZP.div.withConfig({displayName:"styles__Content",componentId:"sc-4e9flo-1"})(["position:relative;border-radius:4px;&:hover{background-color:rgba(255,255,255,0.1);.tracks__list{.tracks__image{img{filter:brightness(40%);}}}}"]),j=w.ZP.div.withConfig({displayName:"styles__TrackList",componentId:"sc-4e9flo-2"})(["width:auto;display:grid;grid-template-columns:60px auto 40px;align-items:center;height:56px;padding:0 10px;margin:7px 0;"]),Z=w.ZP.div.withConfig({displayName:"styles__TrackImage",componentId:"sc-4e9flo-3"})(["display:flex;margin-right:16px;"]),k=w.ZP.div.withConfig({displayName:"styles__TrackTitle",componentId:"sc-4e9flo-4"})(["display:grid;align-items:center;color:#fff;font-size:14px;font-weight:400;letter-spacing:normal;line-height:18px;text-transform:none;span{font-size:14px;color:#b3b3b3;}"]),_=w.ZP.div.withConfig({displayName:"styles__TrackDuration",componentId:"sc-4e9flo-5"})(["color:#b3b3b3;letter-spacing:2px;"]),C=w.ZP.div.withConfig({displayName:"styles__Mask",componentId:"sc-4e9flo-6"})(["position:absolute;z-index:0;bottom:0;content:'';cursor:pointer;left:0;overflow:hidden;right:0;text-indent:100%;top:0;white-space:nowrap;&:hover{.btn-play{opacity:1;}}"]),N=w.ZP.div.withConfig({displayName:"styles__BtnPlay",componentId:"sc-4e9flo-7"})(["position:absolute;left:-5px;bottom:18px;opacity:0;z-index:2;transition:all 0.3s ease;button{display:inline-flex;cursor:pointer;background-color:transparent;color:#fff;border:none;}"]),P=n(5893),T=function(t){var e=t.trackResults,n=(0,s.useContext)(c.S),r=n.setTrack,o=n.currentMusic,l=n.play,d=n.setPlay,u=(0,s.useState)(null),p=u[0],f=u[1],x=function(){var t=(0,i.Z)(a().mark((function t(n,i,s){var o,c;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l&&d(!1),o=e.filter((function(t,e){return e>=s})).map((function(t){return t.uri})),t.next=4,(0,v.Z)(n,i,o);case 4:c=t.sent,r(c);case 6:case"end":return t.stop()}}),t)})));return function(e,n,i){return t.apply(this,arguments)}}();return(0,s.useEffect)((function(){function t(){f(window.screen.width)}return f(window.screen.width),window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}}),[]),(0,P.jsx)(b,{children:e.filter((function(t,e){return p<=900?e<=20:e<=3})).map((function(t,e){return(0,P.jsxs)(I,{onClick:function(){return x("","searchTracks",e)},className:"track-container",children:[(0,P.jsxs)(j,{className:"tracks__list",children:[(0,P.jsx)(Z,{className:"tracks__image",children:(0,P.jsx)(m.default,{height:40,width:40,src:t.albumUrl[2].url,alt:t.title})}),(0,P.jsxs)(k,{children:[t.title," ",(0,P.jsx)("span",{children:t.artist})]}),(0,P.jsx)(_,{children:t.duration})]}),(0,P.jsx)(C,{children:(0,P.jsx)(N,{className:"btn-play",onClick:function(){return x("","searchTracks",e)},children:(0,P.jsx)("button",{children:o===t.title?(0,P.jsx)(m.default,{src:h(),width:"16",height:"16",alt:"pause"}):(0,P.jsx)(m.default,{src:y(),width:"16",height:"16",alt:"play"})})})})]},e)}))})};T.defaultProps={};var M=T,z=n(3860),H=n.n(z),S=n(617),R=n.n(S),A=w.ZP.div.withConfig({displayName:"styles__Container",componentId:"sc-19o0egt-0"})(["font-family:Helvetica,arial,sans-serif;display:flex;flex-direction:column;background-color:#181818;max-width:440px;padding:20px;gap:20px;transition:background-color 0.3s ease;position:relative;isolation:isolate;border-radius:4px;@media (max-width:900px){display:none;}&:hover{background-color:#282828;}"]),E=w.ZP.div.withConfig({displayName:"styles__ContentImage",componentId:"sc-19o0egt-1"})(["width:92px;height:92px;border-radius:50%;box-shadow:0 8px 24px rgb(0 0 0 / 50%);img{border-radius:50%;}"]),D=w.ZP.div.withConfig({displayName:"styles__ContentArtist",componentId:"sc-19o0egt-2"})(["color:#fff;margin-top:28px;.artist__name{font-size:32px;font-weight:700;letter-spacing:-0.04em;line-height:36px;text-transform:none;}.artist__title{margin-top:4px;span{background-color:rgba(0,0,0,0.2);border-radius:500px;color:#fff;display:inline-block;padding:4px 12px;font-size:12px;font-weight:700;letter-spacing:0.1em;line-height:16px;text-transform:uppercase;}}"]),W=w.ZP.div.withConfig({displayName:"styles__Mask",componentId:"sc-19o0egt-3"})(["position:absolute;z-index:0;bottom:0;content:'';cursor:pointer;left:0;overflow:hidden;right:0;text-indent:100%;top:0;white-space:nowrap;&:hover{.button{opacity:1;}}"]),B=w.ZP.div.withConfig({displayName:"styles__Button",componentId:"sc-19o0egt-4"})(["position:absolute;right:68px;bottom:20px;opacity:0;z-index:2;transition:all 0.3s ease;&:hover{transform:scale(1.06);}button{cursor:pointer;background-color:#1db954;color:#fff;border-radius:500px;height:48px;width:48px;border:none;}"]),G=function(t){var e,n,r,o=t.artistsResults,l=t.trackResults,d=(0,s.useContext)(c.S),u=d.setTrack,p=d.currentMusic,f=d.play,x=d.setPlay,h=function(){var t=(0,i.Z)(a().mark((function t(e,n){var i,r,s,o=arguments;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=o.length>2&&void 0!==o[2]?o[2]:l,f&&x(!1),r=i.map((function(t){return t.uri})),t.next=5,(0,v.Z)(e,n,r);case 5:s=t.sent,u(s);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();return(0,P.jsxs)(A,{children:[(0,P.jsx)(E,{children:o[0]&&(0,P.jsx)(m.default,{src:null===(e=o[0])||void 0===e?void 0:e.image,height:92,width:92,alt:""})}),(0,P.jsxs)(D,{children:[(0,P.jsx)("div",{className:"artist__name",children:null===(n=l[0])||void 0===n?void 0:n.artist}),(0,P.jsx)("div",{className:"artist__title",children:(0,P.jsx)("span",{children:"Artist"})})]}),(0,P.jsx)(W,{children:(0,P.jsx)(B,{className:"button",children:(0,P.jsx)("button",{"aria-label":"Play",onClick:function(){return h()},children:p===(null===(r=l[0])||void 0===r?void 0:r.title)?(0,P.jsx)(m.default,{src:R(),width:"24",height:"24",alt:"pause"}):(0,P.jsx)(m.default,{src:H(),width:"24",height:"24",alt:"play"})})})})]})},Q=w.ZP.div.withConfig({displayName:"styles__Container",componentId:"sc-1f2nzqf-0"})(["display:grid;grid-template-columns:440px auto;gap:24px;margin-top:16px;padding:0 32px;@media (max-width:900px){grid-template-columns:1fr;}"]),J=w.ZP.section.withConfig({displayName:"styles__Title",componentId:"sc-1f2nzqf-1"})(["display:flex;flex-direction:column;min-height:300px;min-width:100%;@media (max-width:900px){display:none;}.content__title{}"]),L=w.ZP.section.withConfig({displayName:"styles__Tracks",componentId:"sc-1f2nzqf-2"})([".tracks__title{@media (max-width:900px){display:none;}}"]),U=w.ZP.div.withConfig({displayName:"styles__TitleContent",componentId:"sc-1f2nzqf-3"})(["margin-bottom:16px;"]),q=w.ZP.h2.withConfig({displayName:"styles__TitleText",componentId:"sc-1f2nzqf-4"})(["color:#fff;display:inline-block;font-size:22px;font-weight:700;letter-spacing:-0.04em;line-height:28px;text-transform:none;"]),O=function(t){var e=t.trackResults,n=t.artistsResults;return(0,P.jsxs)(Q,{children:[(0,P.jsxs)(J,{children:[(0,P.jsx)("div",{className:"content__title",children:(0,P.jsx)(U,{children:(0,P.jsx)(q,{children:"Top Result"})})}),(0,P.jsx)(G,{artistsResults:n,trackResults:e})]}),(0,P.jsxs)(L,{children:[(0,P.jsx)("div",{className:"tracks__title ",children:(0,P.jsx)(U,{children:(0,P.jsx)(q,{children:"Songs"})})}),(0,P.jsx)(M,{trackResults:e})]})]})},Y=w.ZP.div.withConfig({displayName:"search__ResultsContainer",componentId:"sc-1kiljw5-0"})([""]),V=w.ZP.div.withConfig({displayName:"search__NoResultsContainer",componentId:"sc-1kiljw5-1"})(["margin-top:16px;padding:0 32px;"]),X=w.ZP.section.withConfig({displayName:"search__CardContainer",componentId:"sc-1kiljw5-2"})(["font-family:Helvetica,arial,sans-serif;color:#fff;width:100%;.top{width:100%;.top-container{margin-bottom:16px;display:grid;grid-template-columns:1fr 60px;.title{h2{display:inline-block;max-width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:24px;font-weight:700;letter-spacing:-0.04em;line-height:28px;text-transform:none;}}}a{text-decoration:none;font-size:12px;font-weight:700;letter-spacing:0.1em;line-height:16px;text-transform:uppercase;color:#fff;}}.card-container{display:flex;gap:24px;flex-wrap:wrap;}"]),F=(0,d.Z)((function(t){var e=t.user,n=(0,o.useRouter)(),r=(0,s.useContext)(c.S),d=r.search,m=r.track,x=r.setTrack,h=(r.session,r.setSession),g=(0,s.useState)([]),y=g[0],v=g[1],w=(0,s.useState)([]),b=w[0],I=w[1],j=(0,s.useState)([]),Z=j[0],k=j[1],_=(0,s.useState)([]),C=_[0],N=_[1],T=(0,p.Z)(),M=T.getMyTopArtists,z=T.getMyRecentlyPlayedTracks;return(0,s.useEffect)((function(){h(null===e||void 0===e?void 0:e.session)}),[e]),(0,s.useEffect)((0,i.Z)(a().mark((function t(){var e;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,z();case 2:e=t.sent,N(e);case 4:case"end":return t.stop()}}),t)}))),[]),(0,s.useEffect)((function(){if(C.length>0&&!m){var t=C.map((function(t){return t.uri}));x(t)}}),[C]),(0,s.useEffect)((0,i.Z)(a().mark((function t(){var e,i,r,s,o,c;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(d){t.next=8;break}return I([]),k([]),t.next=5,M();case 5:return e=t.sent,v(e),t.abrupt("return");case 8:return t.prev=8,i=!1,t.next=12,u.Z.searchTracks(d);case 12:return r=t.sent,t.next=15,r.body.tracks.items.map((function(t){return{artist:t.artists[0].name,title:t.name,uri:t.uri,albumUrl:t.album.images,duration:(t.duration_ms/60/1e3).toFixed(2).replace(".",":")}}));case 15:return s=t.sent,t.next=18,u.Z.searchArtists(d);case 18:return o=t.sent,t.next=21,o.body.artists.items.map((function(t){var e;return{image:null===(e=t.images[1])||void 0===e?void 0:e.url}}));case 21:if(c=t.sent,!i){t.next=24;break}return t.abrupt("return");case 24:I(s),k(c),t.next=31;break;case 28:t.prev=28,t.t0=t.catch(8),n.replace("/home");case 31:return t.abrupt("return",(function(){return cancel=!0}));case 32:case"end":return t.stop()}}),t,null,[[8,28]])}))),[d]),d?(0,P.jsx)(Y,{children:(0,P.jsx)(O,{artistsResults:Z,trackResults:b})}):(0,P.jsxs)(V,{children:[(0,P.jsxs)(X,{children:[(0,P.jsx)("div",{className:"top",children:(0,P.jsxs)("div",{className:"top-container",children:[(0,P.jsx)("div",{className:"title",children:(0,P.jsx)("h2",{children:"Your Top Artists"})}),(0,P.jsx)(l.default,{href:"#",className:"more",children:"See All"})]})}),(0,P.jsx)("div",{className:"card-container",children:y.map((function(t,e){return(0,P.jsx)(f.Z,{idx:e,name:t.name,image:t.image,type:t.type,uri:t.uri,id:t.id,card:y,wrapper:"getArtistTopTracks"},e)}))})]}),";"]})}))},4307:function(t,e,n){"use strict";n.d(e,{Z:function(){return o}});var i=n(266),r=n(809),a=n.n(r),s=n(3968);function o(t,e,n){return c.apply(this,arguments)}function c(){return(c=(0,i.Z)(a().mark((function t(e,n,i){var r,o,c,l,d;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=(0,s.Z)(),o=r.getArtistTopTracks,t.t0=n,t.next="getArtistTopTracks"===t.t0?4:"searchTracks"===t.t0?10:"getMyRecentlyPlayedTracks"===t.t0?11:12;break;case 4:return t.next=6,o(e);case 6:return c=t.sent,l=c.tracks,d=l.map((function(t){return t.uri})),t.abrupt("return",d);case 10:case 11:case 12:return t.abrupt("return",i);case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},3968:function(t,e,n){"use strict";n.d(e,{Z:function(){return o}});var i=n(266),r=n(809),a=n.n(r),s=n(2658);function o(){return{getArtistTopTracks:function(){var t=(0,i.Z)(a().mark((function t(e){var n,i;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.Z.getArtistTopTracks(e,"BR");case 3:return n=t.sent,i=n.body,t.abrupt("return",i);case 8:t.prev=8,t.t0=t.catch(0),console.error("Error!",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}(),getMyTopArtists:function(){var t=(0,i.Z)(a().mark((function t(){var e,n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.Z.getMyTopArtists();case 2:return e=t.sent,t.next=5,e.body.items.map((function(t){return{name:t.name,image:t.images[2].url,type:t.type,id:t.id}}));case 5:return n=t.sent,t.abrupt("return",n);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getMyRecentlyPlayedTracks:function(){var t=(0,i.Z)(a().mark((function t(){var e,n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.Z.getMyRecentlyPlayedTracks({limit:20});case 3:return e=t.sent,t.next=6,e.body.items.map((function(t){return{name:t.track.name,uri:t.track.uri,image:t.track.album.images[1].url,type:t.track.type}})).filter((function(t){return!this[JSON.stringify(t)]&&(this[JSON.stringify(t)]=!0)}),{}).filter((function(t,e){return e<=4}));case 6:return n=t.sent,t.abrupt("return",n);case 10:t.prev=10,t.t0=t.catch(0),console.error("Error!",t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}()}}},8169:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/search",function(){return n(5617)}])},617:function(t){t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9IiNmZmYiIHJvbGU9ImltZyIgIHZpZXdCb3g9IjAgMCAyNCAyNCIgYXJpYS1oaWRkZW49InRydWUiPgogIDxyZWN0IHg9IjUiIHk9IjMiIHdpZHRoPSI0IiBoZWlnaHQ9IjE4IiBmaWxsPSIjZmZmIj48L3JlY3Q+CiAgPHJlY3QgeD0iMTUiIHk9IjMiIHdpZHRoPSI0IiBoZWlnaHQ9IjE4IiBmaWxsPSIjZmZmIj48L3JlY3Q+Cjwvc3ZnPg=="},3860:function(t){t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjQiIHJvbGU9ImltZyIgd2lkdGg9IjI0IiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogIDxwb2x5Z29uIHBvaW50cz0iMjEuNTcgMTIgNS45OCAzIDUuOTggMjEgMjEuNTcgMTIiIGZpbGw9IiNmZmYiPjwvcG9seWdvbj4KPC9zdmc+"},9470:function(t){t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHJvbGU9ImltZyIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICA8cmVjdCB4PSI1IiB5PSIzIiB3aWR0aD0iNCIgaGVpZ2h0PSIxOCIgZmlsbD0iI2ZmZiI+PC9yZWN0PgogIDxyZWN0IHg9IjE1IiB5PSIzIiB3aWR0aD0iNCIgaGVpZ2h0PSIxOCIgZmlsbD0iI2ZmZiI+PC9yZWN0Pgo8L3N2Zz4="},6166:function(t){t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMTYiIHJvbGU9ImltZyIgd2lkdGg9IjE2IiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogIDxwb2x5Z29uIHBvaW50cz0iMjEuNTcgMTIgNS45OCAzIDUuOTggMjEgMjEuNTcgMTIiIGZpbGw9IiNmZmYiIGNvbG9yPSIjZmZmIj48L3BvbHlnb24+Cjwvc3ZnPg=="}},function(t){t.O(0,[774,888,179],(function(){return e=8169,t(t.s=e);var e}));var e=t.O();_N_E=e}]);